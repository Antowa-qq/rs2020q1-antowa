!function(t){var e={};function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([function(t,e,a){},function(t,e,a){"use strict";a.r(e);var i=[{text:"Action ( Set A )",img:"./assets/img/action(set A)/dance.jpg",link:"Action (Set A)"},{text:"Action ( Set B )",img:"./assets/img/action(set B)/swim.jpg",link:"Action (Set B)"},{text:"Action ( Set C )",img:"./assets/img/action(set C)/drop.jpg",link:"Action (Set C)"},{text:"Adjective",img:"./assets/img/Adjective/friendly.jpg",link:"Adjective"},{text:"Animal ( set A )",img:"./assets/img/animal(set A)/cat.jpg",link:"Animal (Set A)"},{text:"Animal ( set B )",img:"./assets/img/animal(set B)/bird.jpg",link:"Animal (Set B)"},{text:"Clothes",img:"./assets/img/Clothes/blouse.jpg",link:"Clothes"},{text:"Emotion",img:"./assets/img/Emotion/happy.jpg",link:"Emotion"}];function n(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function r(t,e,a,i){var s,r=document.createElement(t);e&&(s=r.classList).add.apply(s,n(e.split(" ")));return a&&r.append.apply(r,n(a)),i&&i.append(r),r}function o(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,a,i;return e=t,i=[{key:"showControllerSound",value:function(){this.soundContainer.classList.toggle("volume_hidden")}},{key:"changeVolume",value:function(){this.soundController.focus(),this.volume=this.soundController.value}},{key:"playAudio",value:function(t){var e=new Audio(t);e.volume=.01*this.volume,e.play()}},{key:"init",value:function(){this.soundImg.addEventListener("click",this.showControllerSound.bind(this)),this.soundController.addEventListener("change",this.changeVolume.bind(this))}}],(a=null)&&o(e.prototype,a),i&&o(e,i),t}();function d(t,e){var a=t+Math.random()*(e+1-t);return Math.floor(a)}function u(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}c(l,"soundImg",document.querySelector(".sound__image img")),c(l,"soundContainer",document.querySelector(".volume")),c(l,"soundController",document.querySelector(".volume input")),c(l,"volume",l.soundController.value);var m=function(){function t(e){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cards=document.querySelector(".cards__game"),this.cardList=e,this.countCardList=e.length,this.currentWordIndex=d(0,this.cardList.length-1),this.currentWord=this.cardList[this.currentWordIndex].word,this.btnRepeatWord=document.querySelector(".btn__refresh"),this.rating=document.querySelector(".rating"),this.errorAudio="./assets/audio/tools/error.mp3",this.correctAudio="./assets/audio/tools/correct.mp3",this.victoryAudio="./assets/audio/tools/success.mp3",this.loseAudio="./assets/audio/tools/failure.mp3",this.correctCounter=0,this.unCorrectCounter=0,this.storageCards=JSON.parse(localStorage.getItem("statistics")),this.clickCard=function(t){var e=t.target.closest(".card__game");e&&!e.classList.contains("unActive")&&y.mode.play&&a.isCorrectWord(e.querySelector("p").textContent)&&(e.classList.add("unActive"),a.getNextWord())},this.repeatWord=function(){l.playAudio(a.cardList[a.currentWordIndex].audioSrc)}}var e,a,i;return e=t,(a=[{key:"endGame",value:function(){this.correctCounter===this.countCardList&&0===this.unCorrectCounter?this.victoryGame():this.loseGame(),setTimeout((function(){q.changePage("mainPage")}),2e3)}},{key:"victoryGame",value:function(){this.cards.classList.add("text_victory"),this.cards.textContent="Well PLayed"}},{key:"loseGame",value:function(){this.cards.classList.add("text_lose"),this.cards.textContent="Failure, \n Errors: ".concat(this.unCorrectCounter)}},{key:"playAudio",value:function(){l.playAudio(this.cardList[this.currentWordIndex].audioSrc)}},{key:"playCorrectAudio",value:function(){l.playAudio(this.correctAudio)}},{key:"playErrorAudio",value:function(){l.playAudio(this.errorAudio)}},{key:"abortGame",value:function(){this.btnRepeatWord.removeEventListener("click",this.repeatWord),this.cards.removeEventListener("click",this.clickCard),this.activeCard(),this.cards.querySelector(".btn__play")&&this.cards.querySelector(".btn__play").classList.remove("hidden"),this.cards.querySelector(".btn__play")&&this.btnRepeatWord.classList.add("hidden"),this.rating.textContent=""}},{key:"activeCard",value:function(){this.cards.querySelectorAll(".unActive")&&this.cards.querySelectorAll(".unActive").forEach((function(t){return t.classList.remove("unActive")}))}},{key:"createImage",value:function(t){var e=r("img");return e.src=t,e}},{key:"addRatingLike",value:function(){this.rating.prepend(this.createImage("./assets/img/tools/likeCorrect.png"))}},{key:"addRatingDisLike",value:function(){this.rating.prepend(this.createImage("./assets/img/tools/likeUnCorrect.png"))}},{key:"isCorrectWord",value:function(t){var e,a=this;for(var i in this.storageCards)this.storageCards[i].forEach((function(t){t.word===a.currentWord&&t.translation===a.cardList[a.currentWordIndex].translation&&(e=t)}));return this.currentWord===t?(this.playCorrectAudio(),this.addRatingLike(),this.correctCounter+=1,e.correct+=1,localStorage.setItem("statistics",JSON.stringify(this.storageCards)),!0):(e.incorrect+=1,localStorage.setItem("statistics",JSON.stringify(this.storageCards)),this.unCorrectCounter+=1,this.playErrorAudio(),this.addRatingDisLike(),!1)}},{key:"getNextWord",value:function(){this.cardList.splice(this.currentWordIndex,1),0!==this.cardList.length?(this.currentWordIndex=d(0,this.cardList.length-1),this.currentWord=this.cardList[this.currentWordIndex].word,this.playAudio()):this.endGame()}},{key:"switchToggleEvent",value:function(){var t=this;y.switchToggle.addEventListener("change",(function(){t.abortGame()}))}},{key:"init",value:function(){this.switchToggleEvent(),this.btnRepeatWord.addEventListener("click",this.repeatWord),this.cards.addEventListener("click",this.clickCard),this.playAudio()}}])&&u(e.prototype,a),i&&u(e,i),t}(),g={"Action (Set A)":[{word:"cry",translation:"плакать",image:"./assets/img/action(set A)/cry.jpg",audioSrc:"./assets/audio/action(set A)/cry.mp3"},{word:"dance",translation:"танцевать",image:"./assets/img/action(set A)/dance.jpg",audioSrc:"./assets/audio/action(set A)/dance.mp3"},{word:"dive",translation:"нырять",image:"./assets/img/action(set A)/dive.jpg",audioSrc:"./assets/audio/action(set A)/dive.mp3"},{word:"draw",translation:"рисовать",image:"./assets/img/action(set A)/draw.jpg",audioSrc:"./assets/audio/action(set A)/draw.mp3"},{word:"fish",translation:"ловить рыбу",image:"./assets/img/action(set A)/fish.jpg",audioSrc:"./assets/audio/action(set A)/fish.mp3"},{word:"fly",translation:"летать",image:"./assets/img/action(set A)/fly.jpg",audioSrc:"./assets/audio/action(set A)/fly.mp3"},{word:"hug",translation:"обнимать",image:"./assets/img/action(set A)/hug.jpg",audioSrc:"./assets/audio/action(set A)/hug.mp3"},{word:"jump",translation:"прыгать",image:"./assets/img/action(set A)/jump.jpg",audioSrc:"./assets/audio/action(set A)/jump.mp3"}],"Action (Set B)":[{word:"open",translation:"открывать",image:"./assets/img/action(set B)/open.jpg",audioSrc:"./assets/audio/action(set B)/open.mp3"},{word:"play",translation:"играть",image:"./assets/img/action(set B)/play.jpg",audioSrc:"./assets/audio/action(set B)/play.mp3"},{word:"point",translation:"указывать",image:"./assets/img/action(set B)/point.jpg",audioSrc:"./assets/audio/action(set B)/point.mp3"},{word:"ride",translation:"ездить",image:"./assets/img/action(set B)/ride.jpg",audioSrc:"./assets/audio/action(set B)/ride.mp3"},{word:"run",translation:"бегать",image:"./assets/img/action(set B)/run.jpg",audioSrc:"./assets/audio/action(set B)/run.mp3"},{word:"sing",translation:"петь",image:"./assets/img/action(set B)/sing.jpg",audioSrc:"./assets/audio/action(set B)/sing.mp3"},{word:"skip",translation:"пропускать, прыгать",image:"./assets/img/action(set B)/skip.jpg",audioSrc:"./assets/audio/action(set B)/skip.mp3"},{word:"swim",translation:"плавать",image:"./assets/img/action(set B)/swim.jpg",audioSrc:"./assets/audio/action(set B)/swim.mp3"}],"Action (Set C)":[{word:"build",translation:"строить",image:"./assets/img/action(set C)/build.jpg",audioSrc:"./assets/audio/action(set C)/build.mp3"},{word:"argue",translation:"спорить",image:"./assets/img/action(set C)/argue.jpg",audioSrc:"./assets/audio/action(set C)/argue.mp3"},{word:"carry",translation:"нести",image:"./assets/img/action(set C)/carry.jpg",audioSrc:"./assets/audio/action(set C)/carry.mp3"},{word:"catch",translation:"ловить",image:"./assets/img/action(set C)/catch.jpg",audioSrc:"./assets/audio/action(set C)/catch.mp3"},{word:"drive",translation:"водить машину",image:"./assets/img/action(set C)/drive.jpg",audioSrc:"./assets/audio/action(set C)/drive.mp3"},{word:"drop",translation:"падать",image:"./assets/img/action(set C)/drop.jpg",audioSrc:"./assets/audio/action(set C)/drop.mp3"},{word:"pull",translation:"тянуть",image:"./assets/img/action(set C)/pull.jpg",audioSrc:"./assets/audio/action(set C)/pull.mp3"},{word:"push",translation:"толкать",image:"./assets/img/action(set C)/push.jpg",audioSrc:"./assets/audio/action(set C)/push.mp3"}],Adjective:[{word:"big",translation:"большой",image:"./assets/img/Adjective/big.jpg",audioSrc:"./assets/audio/Adjective/big.mp3"},{word:"small",translation:"малленький",image:"./assets/img/Adjective/small.jpg",audioSrc:"./assets/audio/Adjective/small.mp3"},{word:"fast",translation:"быстрый",image:"./assets/img/Adjective/fast.jpg",audioSrc:"./assets/audio/Adjective/fast.mp3"},{word:"slow",translation:"медленный",image:"./assets/img/Adjective/slow.jpg",audioSrc:"./assets/audio/Adjective/slow.mp3"},{word:"friendly",translation:"дружелюбный",image:"./assets/img/Adjective/friendly.jpg",audioSrc:"./assets/audio/Adjective/friendly.mp3"},{word:"unfriendly",translation:"недружелюбный",image:"./assets/img/Adjective/unfriendly.jpg",audioSrc:"./assets/audio/Adjective/unfriendly.mp3"},{word:"young",translation:"молодой",image:"./assets/img/Adjective/young.jpg",audioSrc:"./assets/audio/Adjective/young.mp3"},{word:"old",translation:"старый",image:"./assets/img/Adjective/old.jpg",audioSrc:"./assets/audio/Adjective/old.mp3"}],"Animal (Set A)":[{word:"cat",translation:"кот",image:"./assets/img/animal(set A)/cat.jpg",audioSrc:"./assets/audio/animal(set A)/cat.mp3"},{word:"chick",translation:"цыплёнок",image:"./assets/img/animal(set A)/chick.jpg",audioSrc:"./assets/audio/animal(set A)/chick.mp3"},{word:"chicken",translation:"курица",image:"./assets/img/animal(set A)/chicken.jpg",audioSrc:"./assets/audio/animal(set A)/chicken.mp3"},{word:"dog",translation:"собака",image:"./assets/img/animal(set A)/dog.jpg",audioSrc:"./assets/audio/animal(set A)/dog.mp3"},{word:"horse",translation:"лошадь",image:"./assets/img/animal(set A)/horse.jpg",audioSrc:"./assets/audio/animal(set A)/horse.mp3"},{word:"pig",translation:"свинья",image:"./assets/img/animal(set A)/pig.jpg",audioSrc:"./assets/audio/animal(set A)/pig.mp3"},{word:"rabbit",translation:"кролик",image:"./assets/img/animal(set A)/rabbit.jpg",audioSrc:"./assets/audio/animal(set A)/rabbit.mp3"},{word:"sheep",translation:"овца",image:"./assets/img/animal(set A)/sheep.jpg",audioSrc:"./assets/audio/animal(set A)/sheep.mp3"}],"Animal (Set B)":[{word:"bird",translation:"птица",image:"./assets/img/animal(set B)/bird.jpg",audioSrc:"./assets/audio/animal(set B)/bird.mp3"},{word:"fish",translation:"рыба",image:"./assets/img/animal(set B)/fish1.jpg",audioSrc:"./assets/audio/animal(set B)/fish.mp3"},{word:"frog",translation:"жаба",image:"./assets/img/animal(set B)/frog.jpg",audioSrc:"./assets/audio/animal(set B)/frog.mp3"},{word:"giraffe",translation:"жирафа",image:"./assets/img/animal(set B)/giraffe.jpg",audioSrc:"./assets/audio/animal(set B)/giraffe.mp3"},{word:"lion",translation:"лев",image:"./assets/img/animal(set B)/lion.jpg",audioSrc:"./assets/audio/animal(set B)/lion.mp3"},{word:"mouse",translation:"мышь",image:"./assets/img/animal(set B)/mouse.jpg",audioSrc:"./assets/audio/animal(set B)/mouse.mp3"},{word:"turtle",translation:"черепаха",image:"./assets/img/animal(set B)/turtle.jpg",audioSrc:"./assets/audio/animal(set B)/turtle.mp3"},{word:"dolphin",translation:"дельфин",image:"./assets/img/animal(set B)/dolphin.jpg",audioSrc:"./assets/audio/animal(set B)/dolphin.mp3"}],Clothes:[{word:"skirt",translation:"юбка",image:"./assets/img/Clothes/skirt.jpg",audioSrc:"./assets/audio/Clothes/skirt.mp3"},{word:"pants",translation:"брюки",image:"./assets/img/Clothes/pants.jpg",audioSrc:"./assets/audio/Clothes/pants.mp3"},{word:"blouse",translation:"блузка",image:"./assets/img/Clothes/blouse.jpg",audioSrc:"./assets/audio/Clothes/blouse.mp3"},{word:"dress",translation:"платье",image:"./assets/img/Clothes/dress.jpg",audioSrc:"./assets/audio/Clothes/dress.mp3"},{word:"boot",translation:"ботинок",image:"./assets/img/Clothes/boot.jpg",audioSrc:"./assets/audio/Clothes/boot.mp3"},{word:"shirt",translation:"рубашка",image:"./assets/img/Clothes/shirt.jpg",audioSrc:"./assets/audio/Clothes/shirt.mp3"},{word:"coat",translation:"пальто",image:"./assets/img/Clothes/coat.jpg",audioSrc:"./assets/audio/Clothes/coat.mp3"},{word:"shoe",translation:"туфли",image:"./assets/img/Clothes/shoe.jpg",audioSrc:"./assets/audio/Clothes/shoe.mp3"}],Emotion:[{word:"sad",translation:"грустный",image:"./assets/img/Emotion/sad.jpg",audioSrc:"./assets/audio/Emotion/sad.mp3"},{word:"angry",translation:"сердитый",image:"./assets/img/Emotion/angry.jpg",audioSrc:"./assets/audio/Emotion/angry.mp3"},{word:"happy",translation:"счастливый",image:"./assets/img/Emotion/happy.jpg",audioSrc:"./assets/audio/Emotion/happy.mp3"},{word:"tired",translation:"уставший",image:"./assets/img/Emotion/tired.jpg",audioSrc:"./assets/audio/Emotion/tired.mp3"},{word:"surprised",translation:"удивлённый",image:"./assets/img/Emotion/surprised.jpg",audioSrc:"./assets/audio/Emotion/surprised.mp3"},{word:"scared",translation:"испуганный",image:"./assets/img/Emotion/scared.jpg",audioSrc:"./assets/audio/Emotion/scared.mp3"},{word:"smile",translation:"улыбка",image:"./assets/img/Emotion/smile.jpg",audioSrc:"./assets/audio/Emotion/smile.mp3"},{word:"laugh",translation:"смех",image:"./assets/img/Emotion/laugh.jpg",audioSrc:"./assets/audio/Emotion/laugh.mp3"}]};function h(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mainContainer=document.querySelector(".main"),this.storageCards=JSON.parse(localStorage.getItem("statistics")),this.cardList=g[q.currentPage]||e}var e,a,i;return e=t,(a=[{key:"startGame",value:function(){var t=this.cardList.slice();new m(t).init();var e=this.mainContainer.querySelector(".btn__play"),a=this.mainContainer.querySelector(".btn__refresh");e.classList.add("hidden"),a.classList.remove("hidden")}},{key:"mouseLeaveCard",value:function(t){t.addEventListener("mouseleave",(function e(){t.classList.contains("card__game_flip")&&(t.classList.remove("card__game_flip"),t.removeEventListener("mouseleave",e))}))}},{key:"flipCardEvent",value:function(t){if(t.target.closest("div").classList.contains("rotate")){var e=t.target.closest(".card__game");e.classList.toggle("card__game_flip"),this.mouseLeaveCard(e)}}},{key:"playAudioCard",value:function(t){var e=t.target.closest(".card__game");if(e){var a=e.querySelector("p").textContent,i=e.querySelector(".card__item_back p").textContent;if(e&&!t.target.closest("div").classList.contains("rotate")&&y.mode.training){var n=this.cardList.find((function(t){return t.word===a}));l.playAudio(n.audioSrc)}e&&y.mode.training&&this.increaseTrainingWord(a,i)}}},{key:"increaseTrainingWord",value:function(t,e){for(var a in this.storageCards)this.storageCards[a].forEach((function(a){t===a.word&&e===a.translation&&(a.clickTraining+=1)}));localStorage.setItem("statistics",JSON.stringify(this.storageCards))}},{key:"selectMode",value:function(t){if(this.mainContainer.querySelector(".cards__game")){var e=this.mainContainer.querySelector(".cards__game");t.play&&(e.classList.remove("cards__game_training"),e.classList.add("cards__game_play")),t.training&&(e.classList.remove("cards__game_play"),e.classList.add("cards__game_training"))}}},{key:"render",value:function(){var t=r("div","rating"),e=r("div","cards cards__game",[t],this.mainContainer);this.cardList.forEach((function(t){var a=r("img");a.src="./assets/img/tools/rotate.png";var i=r("div","rotate",[a]),n=r("img","card__photo");n.src=t.image;var s=r("img","card__photo");s.src=t.image;var o=r("p","card__word");o.textContent=t.word;var c=r("p","card_word");c.textContent=t.translation;var l=r("div","card__item card__item_back",[s,c]),d=r("div","card__item card__item_front",[n,o,i]),u=r("div","card card__game",[d,l]);e.append(u)}));var a=r("button","btn__play");a.textContent="Start Game";var i=r("button","btn__refresh hidden");i.textContent="⟲",r("div","btns",[a,i],e),this.selectMode(y.mode)}},{key:"init",value:function(){this.render();var t=this.mainContainer.querySelector(".cards__game"),e=this.mainContainer.querySelector(".btn__play");t.addEventListener("click",this.playAudioCard.bind(this)),t.addEventListener("click",this.flipCardEvent.bind(this)),e.addEventListener("click",this.startGame.bind(this))}}])&&h(e.prototype,a),i&&h(e,i),t}();function f(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,a,i;return e=t,i=[{key:"clickEvent",value:function(){var t=this;this.switchToggle.addEventListener("change",(function(){t.changeMode(),(new S).selectMode(t.mode),(new x).selectMode(t.mode),(new p).selectMode(t.mode)}))}},{key:"changeMode",value:function(){if(this.getStateSwitchToggle()){var t=[!0,!1];this.mode.play=t[0],this.mode.training=t[1]}else{var e=[!1,!0];this.mode.play=e[0],this.mode.training=e[1]}}},{key:"getStateSwitchToggle",value:function(){return this.switchToggle.checked}},{key:"init",value:function(){this.clickEvent()}}],(a=null)&&f(e.prototype,a),i&&f(e,i),t}();function b(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}v(y,"mode",{play:!1,training:!0}),v(y,"switchToggle",document.querySelector("#togBtn"));var S=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mainContainer=document.querySelector(".main")}var e,a,n;return e=t,(a=[{key:"clickEvent",value:function(){this.mainContainer.querySelector(".cards__menu").addEventListener("click",(function(t){var e=t.target.closest("div");e.classList.contains("card__menu")&&q.changePage(e.dataset.link)}))}},{key:"selectMode",value:function(t){if(this.mainContainer.querySelector(".cards__menu")){var e=this.mainContainer.querySelector(".cards__menu");t.play&&(e.classList.add("cards__menu_play"),e.classList.remove("cards__menu_training")),t.training&&(e.classList.add("cards__menu_training"),e.classList.remove("cards__menu_play"))}}},{key:"render",value:function(){var t=r("div","cards cards__menu",null,this.mainContainer);y.mode.play&&t.classList.add("cards__menu_play"),y.mode.training&&t.classList.add("cards__menu_training"),i.forEach((function(e){var a=r("img");a.src=e.img,a.alt=e.text;var i=r("a",null);i.innerText=e.text,i.prepend(a),i.href="#/cards";var n=r("div","card card__menu",[i],null);n.dataset.link=e.link,t.append(n)}))}},{key:"init",value:function(){this.render(),this.clickEvent()}}])&&b(e.prototype,a),n&&b(e,n),t}();function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function k(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function C(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var _=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.keyStorageStatistics="statistics",this.mainContainer=document.querySelector(".main"),this.storage=localStorage,this.cardsInfo=JSON.parse(this.storage.getItem(this.keyStorageStatistics))||this.creteCardsInfo(),this.componentsCards={word:"word",translation:"translation"},this.mode={allWords:!1,allwordsWithSection:!0},this.countRatio()}var e,a,i;return e=t,(a=[{key:"sortUp",value:function(t,e,a){a!==this.componentsCards.word&&a!==this.componentsCards.translation?t[e].sort((function(t,e){return e[a]-t[a]})):t[e].sort((function(t,e){return t[a]>e[a]?1:-1}))}},{key:"sortDown",value:function(t,e,a){a!==this.componentsCards.word&&a!==this.componentsCards.translation?t[e].sort((function(t,e){return t[a]-e[a]})):t[e].sort((function(t,e){return t[a]<e[a]?1:-1}))}},{key:"sortAll",value:function(t,e,a){var i={all:[]};for(var n in t)t[n].forEach((function(t){i.all.push(t)}));return e.classList.contains("sort_down")||this.sortDown(i,"all",a),e.classList.contains("sort_down")&&this.sortUp(i,"all",a),i}},{key:"sortSection",value:function(t,e,a){if(!e.classList.contains("sort_down"))for(var i in t)this.sortDown(t,i,a);if(e.classList.contains("sort_down"))for(var n in t)this.sortUp(t,n,a);return t}},{key:"sortTable",value:function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){k(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},this.cardsInfo),a=t.classList[0],i=t.querySelector("button"),n="";this.mode.allWords&&(n=this.sortAll(e,i,a)),this.mode.allwordsWithSection&&(n=this.sortSection(e,i,a)),this.removeTBody(),this.renderTBody(n)}},{key:"removeTBody",value:function(){this.mainContainer.querySelector("tbody").remove()}},{key:"renderTBody",value:function(t){var e=r("tbody"),a=document.querySelector("table");for(var i in t){if(this.mode.allwordsWithSection){var n=r("tr","section_title"),s=r("td","",null,n);s.setAttribute("colspan","6"),s.textContent="".concat(i,", count word : ").concat(t[i].length),e.append(n)}t[i].forEach((function(t){var a=r("tr","section__info");for(var i in t){var n=r("td",i,null,a);n.textContent="ratio"===i?"".concat(t[i]," %"):t[i]}e.append(a)}))}a.append(e)}},{key:"countRatio",value:function(){for(var t in this.cardsInfo)this.cardsInfo[t].forEach((function(t){var e=+t.correct/(+t.correct+ +t.incorrect)*100;e&&(e=e.toFixed(1)),e===1/0&&(e=100),(Number.isNaN(e)||0===e)&&(e=0),t.ratio=e}));localStorage.setItem("statistics",JSON.stringify(this.cardsInfo))}},{key:"activeSelectSort",value:function(t,e){var a=e.querySelector("button"),i=this.mainContainer.querySelectorAll(".activeSort"),n=this.mainContainer.querySelectorAll(".sort_down");i&&i.forEach((function(t){t!==a&&t.classList.remove("activeSort")})),n&&n.forEach((function(t){t!==a&&t.classList.remove("sort_down")})),e.querySelector("button").classList.add("activeSort"),e.querySelector("button").classList.toggle("sort_down")}},{key:"clickHeadersEvent",value:function(t){var e=t.target.closest("th");this.activeSelectSort(t,e),this.sortTable(e)}},{key:"changeMode",value:function(){var t=document.querySelector("#rbnt-mode1-all-words"),e=document.querySelector("#rbnt-mode1-words-with-section");this.mode={allWords:t.checked,allwordsWithSection:e.checked},this.changeTable()}},{key:"changeTable",value:function(){this.removeTBody(),this.renderTBody(this.cardsInfo),this.defaultHeaders()}},{key:"defaultHeaders",value:function(){var t=this.mainContainer.querySelectorAll(".sort");t&&t.forEach((function(t){t.classList.remove("activeSort"),t.classList.remove("sort_down")}))}},{key:"createModeTableBlocks",value:function(t,e,a){var i=r("label");i.textContent=t,i.setAttribute("for",e);var n=r("input");return n.type="radio",n.name="group1",n.id=e,n.checked=a,[i,n]}},{key:"createModeTable",value:function(){var t=r("div","mode-table__description");t.textContent="Select Mode: ";var e=r("div","mode-table__words-with-section",this.createModeTableBlocks("Show all words and their sections","rbnt-mode1-words-with-section",!0)),a=r("div","mode-table__all-words",this.createModeTableBlocks("Show all words","rbnt-mode1-all-words",!1)),i=r("div","mode-table",[t,e,a]);this.mainContainer.append(i)}},{key:"createTableTh",value:function(t,e){var a=r("th",e);return a.textContent=t,r("button","sort",null,a).textContent="^",a}},{key:"createTable",value:function(t){var e=r("tr","headers",[this.createTableTh("Word","word"),this.createTableTh("Translate","translation"),this.createTableTh("Training clicks","clickTraining"),this.createTableTh("Answered correctly","correct"),this.createTableTh("Answered incorrectly","incorrect"),this.createTableTh("Answer ratio","ratio")]),a=r("thead","",[e]),i=r("table","",[a]),n=r("div","statistics",[i]);this.mainContainer.append(n),this.renderTBody(t),this.changeTable()}},{key:"clearTable",value:function(){var t=this.creteCardsInfo();this.removeTBody(),this.addCardsInStorage(t),this.renderTBody(t),this.cardsInfo=t}},{key:"repeatDifficultWords",value:function(){q.changePage("repeatDifficultWords")}},{key:"createBtnControls",value:function(){var t=r("div","controlsTable");r("button","controlsTable__repeat",null,t).textContent="Repeat difficult words",r("button","controlsTable__clear",null,t).textContent="Reset",this.mainContainer.append(t)}},{key:"render",value:function(){this.createModeTable(),this.createTable(this.cardsInfo),this.createBtnControls();var t=document.querySelector("#rbnt-mode1-all-words"),e=document.querySelector("#rbnt-mode1-words-with-section");t.addEventListener("change",this.changeMode.bind(this)),e.addEventListener("change",this.changeMode.bind(this)),document.querySelector(".headers").addEventListener("click",this.clickHeadersEvent.bind(this)),document.querySelector(".controlsTable__clear").addEventListener("click",this.clearTable.bind(this)),document.querySelector(".controlsTable__repeat").addEventListener("click",this.repeatDifficultWords.bind(this))}},{key:"creteCardsInfo",value:function(){var t={},e=function(e){t[e]=[],g[e].forEach((function(a){t[e].push({word:a.word,translation:a.translation,clickTraining:0,correct:0,incorrect:0,ratio:0})}))};for(var a in g)e(a);return t}},{key:"addCardsInStorage",value:function(t){this.storage.setItem(this.keyStorageStatistics,JSON.stringify(t))}},{key:"init",value:function(){this.storage.getItem(this.keyStorageStatistics)||this.addCardsInStorage(this.cardsInfo)}}])&&C(e.prototype,a),i&&C(e,i),t}();function j(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var A=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mainContainer=document.querySelector("main"),this.cardsInfo=JSON.parse(localStorage.getItem("statistics"))}var e,a,i;return e=t,(a=[{key:"getWordsAll",value:function(){var t=[];for(var e in this.cardsInfo)this.cardsInfo[e].forEach((function(e){t.push(e)}));return t.sort((function(t,e){return t.ratio-e.ratio})),t}},{key:"getCardMisspelledWords",value:function(t,e,a){for(var i in g)g[i].forEach((function(i){t===i.word&&e===i.translation&&a.push(i)}))}},{key:"getMisspelledWords",value:function(t){var e=this,a=[];return t.forEach((function(t){0!==t.incorrect&&8!==a.length&&e.getCardMisspelledWords(t.word,t.translation,a)})),a}},{key:"createWordsRepeat",value:function(){var t=this.getMisspelledWords(this.getWordsAll());if(0!==t.length)this.render(t);else{var e=r("div","info-repet",null,this.mainContainer);e.textContent="Nothing to repeat!",this.mainContainer.append(e)}}},{key:"render",value:function(t){new p(t).init()}},{key:"init",value:function(){this.createWordsRepeat()}}])&&j(e.prototype,a),i&&j(e,i),t}();function L(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var E,T,B,q=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,a,i;return e=t,i=[{key:"changePage",value:function(t){this.currentPage=t,document.querySelector(".main").textContent="";var e=new S,a=new _,i=new p,n=new A;switch(t){case"mainPage":e.init();break;case"statistics":a.render();break;case"repeatDifficultWords":n.init();break;default:i.init()}this.unSelectActiveLink(),this.selectActiveLink(this.currentPage),this.navigationDisplay()}},{key:"selectActiveLink",value:function(t){document.querySelector('a[data-link="'.concat(t,'"]')).classList.add("navigation__link_selected")}},{key:"unSelectActiveLink",value:function(){document.querySelector(".navigation__link_selected").classList.remove("navigation__link_selected")}},{key:"navigationDisplay",value:function(){var t=document.querySelector(".navigation");t.classList.contains("navigation_open")&&t.classList.toggle("navigation_open")}}],(a=null)&&L(e.prototype,a),i&&L(e,i),t}();function O(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}B=void 0,(T="currentPage")in(E=q)?Object.defineProperty(E,T,{value:B,enumerable:!0,configurable:!0,writable:!0}):E[T]=B;var x=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.btnOpen=document.querySelector(".hamburger_open"),this.btnClose=document.querySelector(".hamburger_close"),this.menu=document.querySelector(".navigation")}var e,a,i;return e=t,(a=[{key:"clickEventBtnCotroller",value:function(){this.menu.classList.toggle("navigation_open")}},{key:"clickEventMenu",value:function(t){"A"===t.target.tagName&&q.changePage(t.target.dataset.link)}},{key:"selectMode",value:function(t){t.play&&(this.menu.classList.add("navigation_play"),this.menu.classList.remove("navigation_training")),t.training&&(this.menu.classList.add("navigation_training"),this.menu.classList.remove("navigation_play"))}},{key:"init",value:function(){this.btnOpen.addEventListener("click",this.clickEventBtnCotroller.bind(this)),this.btnClose.addEventListener("click",this.clickEventBtnCotroller.bind(this)),this.menu.addEventListener("click",this.clickEventMenu.bind(this))}}])&&O(e.prototype,a),i&&O(e,i),t}();a(0);(new S).init(),(new x).init(),(new _).init(),l.init(),y.init()}]);